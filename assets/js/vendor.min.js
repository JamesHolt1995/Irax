"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(n,i){function e(t){this.callback=t,this.ticking=!1}function o(t,n){n=function t(n){if(arguments.length<=0)throw new Error("Missing arguments in extend function");for(var i,e=n||{},o=1;o<arguments.length;o++){var s=arguments[o]||{};for(i in s)e[i]="object"==_typeof(e[i])?t(e[i],s[i]):e[i]||s[i]}return e}(n,o.options),this.lastKnownScrollY=0,this.elem=t,this.debouncer=new e(this.update.bind(this)),this.tolerance=(t=n.tolerance)===Object(t)?t:{down:t,up:t},this.classes=n.classes,this.offset=n.offset,this.initialised=!1,this.onPin=n.onPin,this.onUnpin=n.onUnpin,this.onTop=n.onTop,this.onNotTop=n.onNotTop}var t={bind:!!function(){}.bind,classList:"classList"in i.documentElement,rAF:!!(n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame)};n.requestAnimationFrame=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame,e.prototype={constructor:e,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},o.prototype={constructor:o,init:function(){return o.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var t=this.classes;this.initialised=!1,n.removeEventListener("scroll",this.debouncer,!1),this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.initial)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,n.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,n=this.classes;!t.contains(n.pinned)&&t.contains(n.unpinned)||(t.add(n.unpinned),t.remove(n.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,n=this.classes;t.contains(n.unpinned)&&(t.remove(n.unpinned),t.add(n.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,n=this.classes;t.contains(n.top)||(t.add(n.top),t.remove(n.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,n=this.classes;t.contains(n.notTop)||(t.add(n.notTop),t.remove(n.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==n.pageYOffset?n.pageYOffset:(i.documentElement||i.body.parentNode||i.body).scrollTop},getViewportHeight:function(){return n.innerHeight||i.documentElement.clientHeight||i.body.clientHeight},getDocumentHeight:function(){var t=i.body,n=i.documentElement;return Math.max(t.scrollHeight,n.scrollHeight,t.offsetHeight,n.offsetHeight,t.clientHeight,n.clientHeight)},isOutOfBounds:function(t){var n=t<0,t=t+this.getViewportHeight()>this.getDocumentHeight();return n||t},toleranceExceeded:function(t,n){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[n]},shouldUnpin:function(t,n){var i=t>this.lastKnownScrollY,t=t>=this.offset;return i&&t&&n},shouldPin:function(t,n){var i=t<this.lastKnownScrollY,t=t<=this.offset;return i&&n||t},update:function(){var t=this.getScrollY(),n=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,n);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},o.options={tolerance:{up:0,down:0},offset:0,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},o.cutsTheMustard=void 0!==t&&t.rAF&&t.bind&&t.classList,n.Headroom=o}(window,document);